<?xml version="1.0" encoding="UTF-8"?>
<section name="Workbench">
	<section name="org.eclipse.ui.texteditor.FindReplaceDialog">
		<item key="selection" value="IncomeTaxHandoffGenerator"/>
		<item key="wrap" value="true"/>
		<item key="casesensitive" value="false"/>
		<item key="wholeword" value="false"/>
		<item key="incremental" value="false"/>
		<item key="isRegEx" value="false"/>
		<list key="findhistory">
			<item value="IncomeTaxHandoffGenerator"/>
			<item value="IHandoffGenerator"/>
			<item value="import org.apache.commons.lang3.StringUtils;&#x0D;&#x0A;import org.springframework.beans.BeansException;&#x0D;&#x0A;import org.springframework.beans.factory.annotation.Autowired;&#x0D;&#x0A;import org.springframework.boot.SpringApplication;&#x0D;&#x0A;import org.springframework.boot.autoconfigure.SpringBootApplication;&#x0D;&#x0A;import org.springframework.context.ApplicationContext;&#x0D;&#x0A;import org.springframework.core.env.Environment;&#x0D;&#x0A;import org.springframework.jdbc.core.JdbcTemplate;&#x0D;&#x0A;import org.springframework.jdbc.support.rowset.SqlRowSet;&#x0D;&#x0A;import org.springframework.stereotype.Component;&#x0D;&#x0A;import org.springframework.stereotype.Service;&#x0D;&#x0A;&#x0D;&#x0A;import lombok.extern.slf4j.Slf4j;&#x0D;&#x0A;&#x0D;&#x0A;@SpringBootApplication&#x0D;&#x0A;@Slf4j&#x0D;&#x0A;public class Main {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;private static ApplicationContext applicationContext;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;public static void main(String[] args) {&#x0D;&#x0A;&#x09;&#x09;SpringApplication springApplication = new SpringApplication(Main.class);&#x0D;&#x0A;&#x09;&#x09;applicationContext = springApplication.run(args);&#x0D;&#x0A;&#x09;&#x09;applicationContext.getBean(HandOffProcessor.class).process(null);&#x0D;&#x0A;&#x09;&#x09;log.info(&quot;Application Started&quot;);&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// CREATE TABLE HandOffConfiguration&#x0D;&#x0A;// (&#x0D;&#x0A;// country varchar(30) NOT NULL,&#x0D;&#x0A;// handoffid varchar(10) NOT NULL,&#x0D;&#x0A;// CONSTRAINT HandOffConfiguration_cidx PRIMARY KEY CLUSTERED(country,handoffid)&#x0D;&#x0A;// )&#x0D;&#x0A;&#x0D;&#x0A;@Service&#x0D;&#x0A;@Slf4j&#x0D;&#x0A;class HandOffProcessor extends JdbcTemplate {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;@Autowired&#x0D;&#x0A;&#x09;private HandOffFactory factory;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;public void process(String country) {&#x0D;&#x0A;&#x09;&#x09;StringBuilder sql = new StringBuilder(&quot;SELECT * FROM HandOffConfiguration&quot;);&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;if (!StringUtils.isEmpty(country))&#x0D;&#x0A;&#x09;&#x09;&#x09;sql.append(&quot;WHERE country=&apos;&quot;).append(country).append(&quot;&apos;&quot;);&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;SqlRowSet results = this.queryForRowSet(sql.toString());&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;String handOffId = null;&#x0D;&#x0A;&#x09;&#x09;String handOffCountry = null;&#x0D;&#x0A;&#x09;&#x09;while (results.next()) {&#x0D;&#x0A;&#x09;&#x09;&#x09;handOffId = results.getString(&quot;handoffid&quot;);&#x0D;&#x0A;&#x09;&#x09;&#x09;handOffCountry = results.getString(&quot;country&quot;);&#x0D;&#x0A;&#x09;&#x09;&#x09;log.info(&quot;Generating handoff for country(&quot; + handOffCountry + &quot;), handOffId(&quot; + handOffId + &quot;)&quot;);&#x0D;&#x0A;&#x09;&#x09;&#x09;factory.getProcessor(handOffId).generate(handOffCountry);&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// application.propertie&#x0D;&#x0A;// 101.processor=IncomeTaxHandoffGenerator&#x0D;&#x0A;// 102.processor=LoansHandoffGenerator&#x0D;&#x0A;@Component&#x0D;&#x0A;@Slf4j&#x0D;&#x0A;class HandOffFactory {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;private static final String PROCESSOR=&quot;.processor&quot;;&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;@Autowired&#x0D;&#x0A;&#x09;private ApplicationContext applicationContext;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;@Autowired&#x0D;&#x0A;&#x09;private Environment env;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;public IHandoffGenerator getProcessor(String handOffId) {&#x0D;&#x0A;&#x09;&#x09;try {&#x0D;&#x0A;&#x09;&#x09;&#x09;return (IHandoffGenerator) applicationContext.getBean(Class.forName(env.getProperty(PROCESSOR + handOffId)));&#x0D;&#x0A;&#x09;&#x09;} catch (BeansException e) {&#x0D;&#x0A;&#x09;&#x09;&#x09;log.error(&quot;BeansException Occured while getting handoff bean&quot;);&#x0D;&#x0A;&#x09;&#x09;} catch (ClassNotFoundException e) {&#x0D;&#x0A;&#x09;&#x09;&#x09;log.error(&quot;ClassNotFoundException Occured while getting handoff bean&quot;);&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;return null;&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;interface IHandoffGenerator {&#x0D;&#x0A;&#x09;void generate(String country);&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;@Component&#x0D;&#x0A;@Slf4j&#x0D;&#x0A;class IncomeTaxHandoffGenerator implements IHandoffGenerator {&#x0D;&#x0A;&#x09;@Override&#x0D;&#x0A;&#x09;public void generate(String country) {&#x0D;&#x0A;&#x09;&#x09;log.info(&quot;IncomeTaxHandoffGenerator executed&quot;);&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;@Component&#x0D;&#x0A;@Slf4j&#x0D;&#x0A;class LoansHandoffGenerator implements IHandoffGenerator {&#x0D;&#x0A;&#x09;@Override&#x0D;&#x0A;&#x09;public void generate(String country) {&#x0D;&#x0A;&#x09;&#x09;log.info(&quot;LoansHandoffGenerator executed&quot;);&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;"/>
			<item value="protected void configure(Http"/>
		</list>
		<list key="replacehistory">
		</list>
	</section>
	<section name="org.eclipse.ui.texteditor.FindReplaceDialog_dialogBounds">
		<item key="DIALOG_X_ORIGIN" value="1162"/>
		<item key="DIALOG_Y_ORIGIN" value="169"/>
		<item key="DIALOG_WIDTH" value="292"/>
		<item key="DIALOG_HEIGHT" value="402"/>
		<item key="DIALOG_FONT_NAME" value="1|.AppleSystemUIFont|11.0|0|COCOA|1|.AppleSystemUIFont"/>
	</section>
</section>
